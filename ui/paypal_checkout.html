<!DOCTYPE html>
<html>
<head>
  <title>PayPal Sandbox Checkout with Dynamic Amount</title>
  <script src="https://www.paypal.com/sdk/js?client-id=AViFa2h4-GQWpKewyMLh4iDrsHVBWe7lrlCkTDrj0Yp3x4nYK7Vh02UZKg2rwz_wn1hoPLLOYBb_dPVP&currency=USD"></script>
</head>
<body>
  <h2>PayPal Sandbox Checkout Test</h2>

  <label for="amount">Enter amount to pay (USD): </label>
  <input type="number" id="amount" value="10.00" min="0.01" step="0.01" />

  <div id="paypal-button-container" style="margin-top: 20px;"></div>

  <script>
    paypal.Buttons({
      createOrder: function(data, actions) {
        // Get amount from input field
        const amount = document.getElementById('amount').value;

        // Validate amount (optional)
        if (parseFloat(amount) <= 0) {
          alert('Please enter a valid amount greater than 0');
          return;
        }

        // Create the order with the dynamic amount
        return actions.order.create({
          purchase_units: [{
            amount: { value: amount }
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          alert('Transaction completed by ' + details.payer.name.given_name);
          console.log('Transaction details:', details);
        });
      }
    }).render('#paypal-button-container');
  </script>
</body>
</html>
